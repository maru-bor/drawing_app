<Window x:Class="drawing_app.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:local="clr-namespace:drawing_app"
        mc:Ignorable="d"
        Title="Drawing App">
    <Grid>
        
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <Menu Grid.Row="0"
              Background="#F3F3F3"
              Padding="8"
              FontSize="14">

            <MenuItem Header="File">
                <MenuItem Header="Exit"
                          Click="Exit_Click"/>
            </MenuItem>

            <MenuItem Header="Import">
                <MenuItem Header="Import New Brush"
                          Click="ImportBrush_Click"/>
            </MenuItem>
            
            <MenuItem Header="Undo"
                      Command="{Binding UndoCommand}"
                      InputGestureText="Ctrl+Z"/>
         
            
            <MenuItem Header="Redo"
                      Command="{Binding RedoCommand}"
                      InputGestureText="Ctrl+Y"/>
          

        </Menu>

        <Grid Grid.Row="1">
            <ScrollViewer HorizontalScrollBarVisibility="Auto"
                  VerticalScrollBarVisibility="Auto"
                  Background="#E5E5E5"
                  HorizontalContentAlignment="Center"
                  VerticalContentAlignment="Center"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch"
                  CanContentScroll="False">
                

                <Border BorderBrush="#DDD"
                        BorderThickness="1"
                        Background="White"
                        Margin="340,20, 240, 20"
                >

                <local:CanvasControl x:Name="DrawingCanvas"
                                     Width="1100"
                                     Height="800"
                                     HorizontalAlignment="Left"
                                     VerticalAlignment="Top"/>
            </Border>
            </ScrollViewer>


            <Border Width="320"
                Background="#FAFAFA"
                HorizontalAlignment="Left"
                BorderBrush="#CCC"
                BorderThickness="0,0,1,0">
            <StackPanel>

                <xctk:ColorCanvas
                    Width="300"
                    Height="280"
                    Margin="5"
                    SelectedColorChanged="ColorPicker_SelectedColorChanged"/>

                <TextBlock Text="Brushes" Margin="5,10,5,5"/>

                <ListBox x:Name="BrushList"
                         Height="150"
                         DisplayMemberPath="Name"
                         SelectionChanged="BrushList_SelectionChanged">

                    <ListBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Delete Brush"
                                      Click="DeleteBrush_Click"/>
                        </ContextMenu>
                    </ListBox.ContextMenu>
                </ListBox>

                <TextBlock Text="Thickness:" Margin="5,0"/>
                <Slider x:Name="ThicknessSlider"
                        Minimum="1"
                        Maximum="150"
                        Value="4"
                        Margin="5"
                        ValueChanged="ThicknessSlider_ValueChanged"/>

                <TextBlock Text="Opacity:" Margin="5,0"/>
                <Slider x:Name="OpacitySlider"
                        Minimum="0"
                        Maximum="255"
                        Value="255"
                        Margin="5"
                        ValueChanged="OpacitySlider_ValueChanged"/>

            </StackPanel>
        </Border>


        <Border Width="220"
                Background="#F3F3F3"
                HorizontalAlignment="Right"
                BorderBrush="#CCC"
                BorderThickness="1,0,0,0"
                Padding="10">

            <StackPanel>
                <TextBlock Text="Layers" FontWeight="Bold" Margin="0,0,0,10"/>

                <ListBox x:Name="LayerList"
                         DisplayMemberPath="Name"
                         SelectionChanged="LayerList_SelectionChanged"
                         Height="300"/>

                <TextBlock Text="Layer Opacity:" Margin="0,10,0,0"/>

                <Slider x:Name="LayerOpacitySlider"
                        Minimum="0"
                        Maximum="1"
                        Value="1"
                        TickFrequency="0.01"
                        Margin="0,0,0,10"
                        ValueChanged="LayerOpacitySlider_ValueChanged"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <Button Content="＋" Width="40" Height="40" Margin="5" Click="AddLayer_Click"/>
                    <Button Content="🗑" Width="40" Height="40" Margin="5" Click="DeleteLayer_Click"/>
                </StackPanel>
            </StackPanel>

        </Border>

        </Grid>
       
   
    </Grid>
</Window>
